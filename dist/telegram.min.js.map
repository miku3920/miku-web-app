{"version":3,"file":"telegram.min.js","mappings":"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","sources":["webpack://Telegram/webpack/universalModuleDefinition","webpack://Telegram/./src/cjs/index.js","webpack://Telegram/./src/cjs/telegram/webapp.js","webpack://Telegram/./src/cjs/telegram/webview.js","webpack://Telegram/webpack/bootstrap","webpack://Telegram/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Telegram\"] = factory();\n\telse\n\t\troot[\"Telegram\"] = factory();\n})(self, () => {\nreturn ","var module_webview = require('./telegram/webview');\nvar module_webapp = require('./telegram/webapp');\n\nvar Telegram = {\n  WebView: module_webview.WebView,\n  Utils: module_webview.Utils,\n  Game: module_webview.Game,\n  WebApp: module_webapp.WebApp\n};\n\nmodule.exports = Telegram;\n","var module_webview = require('./webview');\n\nvar Utils = module_webview.Utils;\nvar WebView = module_webview.WebView;\nvar initParams = WebView.initParams;\nvar isIframe = WebView.isIframe;\n\nvar WebApp = {};\nvar webAppInitData = '', webAppInitDataUnsafe = {};\nvar themeParams = {}, colorScheme = 'light';\nvar webAppVersion = '6.0';\nvar webAppPlatform = 'unknown';\n\nif (initParams.tgWebAppData && initParams.tgWebAppData.length) {\n  webAppInitData = initParams.tgWebAppData;\n  webAppInitDataUnsafe = Utils.urlParseQueryString(webAppInitData);\n  for (var key in webAppInitDataUnsafe) {\n    var val = webAppInitDataUnsafe[key];\n    try {\n      if (val.substr(0, 1) == '{' && val.substr(-1) == '}' ||\n          val.substr(0, 1) == '[' && val.substr(-1) == ']') {\n        webAppInitDataUnsafe[key] = JSON.parse(val);\n      }\n    } catch (e) {}\n  }\n}\nif (initParams.tgWebAppThemeParams && initParams.tgWebAppThemeParams.length) {\n  var themeParamsRaw = initParams.tgWebAppThemeParams;\n  try {\n    var theme_params = JSON.parse(themeParamsRaw);\n    if (theme_params) {\n      setThemeParams(theme_params);\n    }\n  } catch (e) {}\n}\nvar theme_params = Utils.sessionStorageGet('themeParams');\nif (theme_params) {\n  setThemeParams(theme_params);\n}\nif (initParams.tgWebAppVersion) {\n  webAppVersion = initParams.tgWebAppVersion;\n}\nif (initParams.tgWebAppPlatform) {\n  webAppPlatform = initParams.tgWebAppPlatform;\n}\n\nfunction onThemeChanged(eventType, eventData) {\n  if (eventData.theme_params) {\n    setThemeParams(eventData.theme_params);\n    WebApp.MainButton.setParams({});\n    updateBackgroundColor();\n    receiveWebViewEvent('themeChanged');\n  }\n}\n\nvar lastWindowHeight = window.innerHeight;\nfunction onViewportChanged(eventType, eventData) {\n  if (eventData.height) {\n    window.removeEventListener('resize', onWindowResize);\n    setViewportHeight(eventData);\n  }\n}\n\nfunction onWindowResize(e) {\n  if (lastWindowHeight != window.innerHeight) {\n    lastWindowHeight = window.innerHeight;\n    receiveWebViewEvent('viewportChanged', {\n      isStateStable: true\n    });\n  }\n}\n\nfunction linkHandler(e) {\n  if (e.metaKey || e.ctrlKey) return;\n  var el = e.target;\n  while (el.tagName != 'A' && el.parentNode) {\n    el = el.parentNode;\n  }\n  if (el.tagName == 'A' &&\n      el.target != '_blank' &&\n      (el.protocol == 'http:' || el.protocol == 'https:') &&\n      el.hostname == 't.me') {\n    WebApp.openTgLink(el.href);\n    e.preventDefault();\n  }\n}\n\nfunction strTrim(str) {\n  return str.toString().replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction receiveWebViewEvent(eventType) {\n  var args = Array.prototype.slice.call(arguments);\n  eventType = args.shift();\n  WebView.callEventCallbacks('webview:' + eventType, function(callback) {\n    callback.apply(WebApp, args);\n  });\n}\n\nfunction onWebViewEvent(eventType, callback) {\n  WebView.onEvent('webview:' + eventType, callback);\n};\n\nfunction offWebViewEvent(eventType, callback) {\n  WebView.offEvent('webview:' + eventType, callback);\n};\n\nfunction setCssProperty(name, value) {\n  var root = document.documentElement;\n  if (root && root.style && root.style.setProperty) {\n    root.style.setProperty('--tg-' + name, value);\n  }\n}\n\nfunction setThemeParams(theme_params) {\n  // temp iOS fix\n  if (theme_params.bg_color == '#1c1c1d' &&\n      theme_params.bg_color == theme_params.secondary_bg_color) {\n    theme_params.secondary_bg_color = '#2c2c2e';\n  }\n  var color;\n  for (var key in theme_params) {\n    if (color = parseColorToHex(theme_params[key])) {\n      themeParams[key] = color;\n      if (key == 'bg_color') {\n        colorScheme = isColorDark(color) ? 'dark' : 'light'\n        setCssProperty('color-scheme', colorScheme);\n      }\n      key = 'theme-' + key.split('_').join('-');\n      setCssProperty(key, color);\n    }\n  }\n  Utils.sessionStorageSet('themeParams', themeParams);\n}\n\nfunction generateId(len) {\n  var id = '', chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789', chars_len = chars.length;\n  for (var i = 0; i < len; i++) {\n    id += chars[Math.floor(Math.random() * chars_len)];\n  }\n  return id;\n}\n\nvar viewportHeight = false, viewportStableHeight = false, isExpanded = true;\nfunction setViewportHeight(data) {\n  if (typeof data !== 'undefined') {\n    isExpanded = !!data.is_expanded;\n    viewportHeight = data.height;\n    if (data.is_state_stable) {\n      viewportStableHeight = data.height;\n    }\n    receiveWebViewEvent('viewportChanged', {\n      isStateStable: !!data.is_state_stable\n    });\n  }\n  var height, stable_height;\n  if (viewportHeight !== false) {\n    height = (viewportHeight - mainButtonHeight) + 'px';\n  } else {\n    height = mainButtonHeight ? 'calc(100vh - ' + mainButtonHeight + 'px)' : '100vh';\n  }\n  if (viewportStableHeight !== false) {\n    stable_height = (viewportStableHeight - mainButtonHeight) + 'px';\n  } else {\n    stable_height = mainButtonHeight ? 'calc(100vh - ' + mainButtonHeight + 'px)' : '100vh';\n  }\n  setCssProperty('viewport-height', height);\n  setCssProperty('viewport-stable-height', stable_height);\n}\n\nvar isClosingConfirmationEnabled = false;\nfunction setClosingConfirmation(need_confirmation) {\n  if (!versionAtLeast('6.2')) {\n    console.warn('[Telegram.WebApp] Closing confirmation is not supported in version ' + webAppVersion);\n    return;\n  }\n  isClosingConfirmationEnabled = !!need_confirmation;\n  WebView.postEvent('web_app_setup_closing_behavior', false, {need_confirmation: isClosingConfirmationEnabled});\n}\n\nvar headerColorKey = 'bg_color';\nfunction getHeaderColor() {\n  return themeParams[headerColorKey] || null;\n}\nfunction setHeaderColor(color) {\n  if (!versionAtLeast('6.1')) {\n    console.warn('[Telegram.WebApp] Header color is not supported in version ' + webAppVersion);\n    return;\n  }\n  var color_key;\n  if (color == 'bg_color' || color == 'secondary_bg_color') {\n    color_key = color;\n  } else {\n    color_key = parseColorToHex(color);\n    if (themeParams.bg_color &&\n        themeParams.bg_color == color_key) {\n      color_key = 'bg_color';\n    } else if (themeParams.secondary_bg_color &&\n               themeParams.secondary_bg_color == color_key) {\n      color_key = 'secondary_bg_color';\n    } else {\n      color_key = false;\n    }\n  }\n  if (color_key != 'bg_color' &&\n      color_key != 'secondary_bg_color') {\n    console.error('[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, \\'bg_color\\', \\'secondary_bg_color\\'', color);\n    throw Error('WebAppHeaderColorKeyInvalid');\n  }\n  headerColorKey = color_key;\n  WebView.postEvent('web_app_set_header_color', false, {color_key: color_key});\n}\n\nvar backgroundColor = 'bg_color';\nfunction getBackgroundColor() {\n  if (backgroundColor == 'secondary_bg_color') {\n    return themeParams.secondary_bg_color;\n  } else if (backgroundColor == 'bg_color') {\n    return themeParams.bg_color;\n  }\n  return backgroundColor;\n}\nfunction setBackgroundColor(color) {\n  if (!versionAtLeast('6.1')) {\n    console.warn('[Telegram.WebApp] Background color is not supported in version ' + webAppVersion);\n    return;\n  }\n  var bg_color;\n  if (color == 'bg_color' || color == 'secondary_bg_color') {\n    bg_color = color;\n  } else {\n    bg_color = parseColorToHex(color);\n    if (!bg_color) {\n      console.error('[Telegram.WebApp] Background color format is invalid', color);\n      throw Error('WebAppBackgroundColorInvalid');\n    }\n  }\n  backgroundColor = bg_color;\n  updateBackgroundColor();\n}\nvar appBackgroundColor = null;\nfunction updateBackgroundColor() {\n  var color = getBackgroundColor();\n  if (appBackgroundColor != color) {\n    appBackgroundColor = color;\n    WebView.postEvent('web_app_set_background_color', false, {color: color});\n  }\n}\n\n\nfunction parseColorToHex(color) {\n  color += '';\n  var match;\n  if (match = /^\\s*#([0-9a-f]{6})\\s*$/i.exec(color)) {\n    return '#' + match[1].toLowerCase();\n  }\n  else if (match = /^\\s*#([0-9a-f])([0-9a-f])([0-9a-f])\\s*$/i.exec(color)) {\n    return ('#' + match[1] + match[1] + match[2] + match[2] + match[3] + match[3]).toLowerCase();\n  }\n  else if (match = /^\\s*rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+\\.{0,1}\\d*))?\\)\\s*$/.exec(color)) {\n    var r = parseInt(match[1]), g = parseInt(match[2]), b = parseInt(match[3]);\n    r = (r < 16 ? '0' : '') + r.toString(16);\n    g = (g < 16 ? '0' : '') + g.toString(16);\n    b = (b < 16 ? '0' : '') + b.toString(16);\n    return '#' + r + g + b;\n  }\n  return false;\n}\n\nfunction isColorDark(rgb) {\n  rgb = rgb.replace(/[\\s#]/g, '');\n  if (rgb.length == 3) {\n    rgb = rgb[0] + rgb[0] + rgb[1] + rgb[1] + rgb[2] + rgb[2];\n  }\n  var r = parseInt(rgb.substr(0, 2), 16);\n  var g = parseInt(rgb.substr(2, 2), 16);\n  var b = parseInt(rgb.substr(4, 2), 16);\n  var hsp = Math.sqrt(0.299 * (r * r) + 0.587 * (g * g) + 0.114 * (b * b));\n  return hsp < 120;\n}\n\nfunction versionCompare(v1, v2) {\n  if (typeof v1 !== 'string') v1 = '';\n  if (typeof v2 !== 'string') v2 = '';\n  v1 = v1.replace(/^\\s+|\\s+$/g, '').split('.');\n  v2 = v2.replace(/^\\s+|\\s+$/g, '').split('.');\n  var a = Math.max(v1.length, v2.length), i, p1, p2;\n  for (i = 0; i < a; i++) {\n    p1 = parseInt(v1[i]) || 0;\n    p2 = parseInt(v2[i]) || 0;\n    if (p1 == p2) continue;\n    if (p1 > p2) return 1;\n    return -1;\n  }\n  return 0;\n}\n\nfunction versionAtLeast(ver) {\n  return versionCompare(webAppVersion, ver) >= 0;\n}\n\nfunction byteLength(str) {\n  if (window.Blob) {\n    try { return new Blob([str]).size; } catch (e) {}\n  }\n  var s = str.length;\n  for (var i=str.length-1; i>=0; i--) {\n    var code = str.charCodeAt(i);\n    if (code > 0x7f && code <= 0x7ff) s++;\n    else if (code > 0x7ff && code <= 0xffff) s+=2;\n    if (code >= 0xdc00 && code <= 0xdfff) i--;\n  }\n  return s;\n}\n\nvar BackButton = (function() {\n  var isVisible = false;\n\n  var backButton = {};\n  Object.defineProperty(backButton, 'isVisible', {\n    set: function(val){ setParams({is_visible: val}); },\n    get: function(){ return isVisible; },\n    enumerable: true\n  });\n\n  var curButtonState = null;\n\n  WebView.onEvent('back_button_pressed', onBackButtonPressed);\n\n  function onBackButtonPressed() {\n    receiveWebViewEvent('backButtonClicked');\n  }\n\n  function buttonParams() {\n    return {is_visible: isVisible};\n  }\n\n  function buttonState(btn_params) {\n    if (typeof btn_params === 'undefined') {\n      btn_params = buttonParams();\n    }\n    return JSON.stringify(btn_params);\n  }\n\n  function buttonCheckVersion() {\n    if (!versionAtLeast('6.1')) {\n      console.warn('[Telegram.WebApp] BackButton is not supported in version ' + webAppVersion);\n      return false;\n    }\n    return true;\n  }\n\n  function updateButton() {\n    var btn_params = buttonParams();\n    var btn_state = buttonState(btn_params);\n    if (curButtonState === btn_state) {\n      return;\n    }\n    curButtonState = btn_state;\n    WebView.postEvent('web_app_setup_back_button', false, btn_params);\n  }\n\n  function setParams(params) {\n    if (!buttonCheckVersion()) {\n      return backButton;\n    }\n    if (typeof params.is_visible !== 'undefined') {\n      isVisible = !!params.is_visible;\n    }\n    updateButton();\n    return backButton;\n  }\n\n  backButton.onClick = function(callback) {\n    if (buttonCheckVersion()) {\n      onWebViewEvent('backButtonClicked', callback);\n    }\n    return backButton;\n  };\n  backButton.offClick = function(callback) {\n    if (buttonCheckVersion()) {\n      offWebViewEvent('backButtonClicked', callback);\n    }\n    return backButton;\n  };\n  backButton.show = function() {\n    return setParams({is_visible: true});\n  };\n  backButton.hide = function() {\n    return setParams({is_visible: false});\n  };\n  return backButton;\n})();\n\nvar mainButtonHeight = 0;\nvar MainButton = (function() {\n  var isVisible = false;\n  var isActive = true;\n  var isProgressVisible = false;\n  var buttonText = 'CONTINUE';\n  var buttonColor = false;\n  var buttonTextColor = false;\n\n  var mainButton = {};\n  Object.defineProperty(mainButton, 'text', {\n    set: function(val){ mainButton.setParams({text: val}); },\n    get: function(){ return buttonText; },\n    enumerable: true\n  });\n  Object.defineProperty(mainButton, 'color', {\n    set: function(val){ mainButton.setParams({color: val}); },\n    get: function(){ return buttonColor || themeParams.button_color || '#2481cc'; },\n    enumerable: true\n  });\n  Object.defineProperty(mainButton, 'textColor', {\n    set: function(val){ mainButton.setParams({text_color: val}); },\n    get: function(){ return buttonTextColor || themeParams.button_text_color || '#ffffff'; },\n    enumerable: true\n  });\n  Object.defineProperty(mainButton, 'isVisible', {\n    set: function(val){ mainButton.setParams({is_visible: val}); },\n    get: function(){ return isVisible; },\n    enumerable: true\n  });\n  Object.defineProperty(mainButton, 'isProgressVisible', {\n    get: function(){ return isProgressVisible; },\n    enumerable: true\n  });\n  Object.defineProperty(mainButton, 'isActive', {\n    set: function(val){ mainButton.setParams({is_active: val}); },\n    get: function(){ return isActive; },\n    enumerable: true\n  });\n\n  var curButtonState = null;\n\n  WebView.onEvent('main_button_pressed', onMainButtonPressed);\n\n  var debugBtn = null, debugBtnStyle = {};\n  if (initParams.tgWebAppDebug) {\n    debugBtn = document.createElement('tg-main-button');\n    debugBtnStyle = {\n      font: '600 14px/18px sans-serif',\n      display: 'none',\n      width: '100%',\n      height: '48px',\n      borderRadius: '0',\n      background: 'no-repeat right center',\n      position: 'fixed',\n      left: '0',\n      right: '0',\n      bottom: '0',\n      margin: '0',\n      padding: '15px 20px',\n      textAlign: 'center',\n      boxSizing: 'border-box',\n      zIndex: '10000'\n    };\n    for (var k in debugBtnStyle) {\n      debugBtn.style[k] = debugBtnStyle[k];\n    }\n    document.addEventListener('DOMContentLoaded', function onDomLoaded(event) {\n      document.removeEventListener('DOMContentLoaded', onDomLoaded);\n      document.body.appendChild(debugBtn);\n      debugBtn.addEventListener('click', onMainButtonPressed, false);\n    });\n  }\n\n  function onMainButtonPressed() {\n    if (isActive) {\n      receiveWebViewEvent('mainButtonClicked');\n    }\n  }\n\n  function buttonParams() {\n    var color = mainButton.color;\n    var text_color = mainButton.textColor;\n    return isVisible ? {\n      is_visible: true,\n      is_active: isActive,\n      is_progress_visible: isProgressVisible,\n      text: buttonText,\n      color: color,\n      text_color: text_color\n    } : {is_visible: false};\n  }\n\n  function buttonState(btn_params) {\n    if (typeof btn_params === 'undefined') {\n      btn_params = buttonParams();\n    }\n    return JSON.stringify(btn_params);\n  }\n\n  function updateButton() {\n    var btn_params = buttonParams();\n    var btn_state = buttonState(btn_params);\n    if (curButtonState === btn_state) {\n      return;\n    }\n    curButtonState = btn_state;\n    WebView.postEvent('web_app_setup_main_button', false, btn_params);\n    if (initParams.tgWebAppDebug) {\n      updateDebugButton(btn_params);\n    }\n  }\n\n  function updateDebugButton(btn_params) {\n    if (btn_params.is_visible) {\n      debugBtn.style.display = 'block';\n      mainButtonHeight = 48;\n\n      debugBtn.style.opacity = btn_params.is_active ? '1' : '0.8';\n      debugBtn.style.cursor = btn_params.is_active ? 'pointer' : 'auto';\n      debugBtn.disabled = !btn_params.is_active;\n      debugBtn.innerText = btn_params.text;\n      debugBtn.style.backgroundImage = btn_params.is_progress_visible ? \"url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewport%3D%220%200%2048%2048%22%20width%3D%2248px%22%20height%3D%2248px%22%3E%3Ccircle%20cx%3D%2250%25%22%20cy%3D%2250%25%22%20stroke%3D%22%23fff%22%20stroke-width%3D%222.25%22%20stroke-linecap%3D%22round%22%20fill%3D%22none%22%20stroke-dashoffset%3D%22106%22%20r%3D%229%22%20stroke-dasharray%3D%2256.52%22%20rotate%3D%22-90%22%3E%3Canimate%20attributeName%3D%22stroke-dashoffset%22%20attributeType%3D%22XML%22%20dur%3D%22360s%22%20from%3D%220%22%20to%3D%2212500%22%20repeatCount%3D%22indefinite%22%3E%3C%2Fanimate%3E%3CanimateTransform%20attributeName%3D%22transform%22%20attributeType%3D%22XML%22%20type%3D%22rotate%22%20dur%3D%221s%22%20from%3D%22-90%2024%2024%22%20to%3D%22630%2024%2024%22%20repeatCount%3D%22indefinite%22%3E%3C%2FanimateTransform%3E%3C%2Fcircle%3E%3C%2Fsvg%3E')\" : 'none';\n      debugBtn.style.backgroundColor = btn_params.color;\n      debugBtn.style.color = btn_params.text_color;\n    } else {\n      debugBtn.style.display = 'none';\n      mainButtonHeight = 0;\n    }\n    if (document.documentElement) {\n      document.documentElement.style.boxSizing = 'border-box';\n      document.documentElement.style.paddingBottom = mainButtonHeight + 'px';\n    }\n    setViewportHeight();\n  }\n\n  function setParams(params) {\n    if (typeof params.text !== 'undefined') {\n      var text = strTrim(params.text);\n      if (!text.length) {\n        console.error('[Telegram.WebApp] Main button text is required', params.text);\n        throw Error('WebAppMainButtonParamInvalid');\n      }\n      if (text.length > 64) {\n        console.error('[Telegram.WebApp] Main button text is too long', text);\n        throw Error('WebAppMainButtonParamInvalid');\n      }\n      buttonText = text;\n    }\n    if (typeof params.color !== 'undefined') {\n      if (params.color === false ||\n          params.color === null) {\n        buttonColor = false;\n      } else {\n        var color = parseColorToHex(params.color);\n        if (!color) {\n          console.error('[Telegram.WebApp] Main button color format is invalid', params.color);\n          throw Error('WebAppMainButtonParamInvalid');\n        }\n        buttonColor = color;\n      }\n    }\n    if (typeof params.text_color !== 'undefined') {\n      if (params.text_color === false ||\n          params.text_color === null) {\n        buttonTextColor = false;\n      } else {\n        var text_color = parseColorToHex(params.text_color);\n        if (!text_color) {\n          console.error('[Telegram.WebApp] Main button text color format is invalid', params.text_color);\n          throw Error('WebAppMainButtonParamInvalid');\n        }\n        buttonTextColor = text_color;\n      }\n    }\n    if (typeof params.is_visible !== 'undefined') {\n      if (params.is_visible &&\n          !mainButton.text.length) {\n        console.error('[Telegram.WebApp] Main button text is required');\n        throw Error('WebAppMainButtonParamInvalid');\n      }\n      isVisible = !!params.is_visible;\n    }\n    if (typeof params.is_active !== 'undefined') {\n      isActive = !!params.is_active;\n    }\n    updateButton();\n    return mainButton;\n  }\n\n  mainButton.setText = function(text) {\n    return mainButton.setParams({text: text});\n  };\n  mainButton.onClick = function(callback) {\n    onWebViewEvent('mainButtonClicked', callback);\n    return mainButton;\n  };\n  mainButton.offClick = function(callback) {\n    offWebViewEvent('mainButtonClicked', callback);\n    return mainButton;\n  };\n  mainButton.show = function() {\n    return mainButton.setParams({is_visible: true});\n  };\n  mainButton.hide = function() {\n    return mainButton.setParams({is_visible: false});\n  };\n  mainButton.enable = function() {\n    return mainButton.setParams({is_active: true});\n  };\n  mainButton.disable = function() {\n    return mainButton.setParams({is_active: false});\n  };\n  mainButton.showProgress = function(leaveActive) {\n    isActive = !!leaveActive;\n    isProgressVisible = true;\n    updateButton();\n    return mainButton;\n  };\n  mainButton.hideProgress = function() {\n    if (!mainButton.isActive) {\n      isActive = true;\n    }\n    isProgressVisible = false;\n    updateButton();\n    return mainButton;\n  }\n  mainButton.setParams = setParams;\n  return mainButton;\n})();\n\nfunction onSettingsButtonPressed() {\n  receiveWebViewEvent('settingsButtonClicked');\n}\nWebView.onEvent('settings_button_pressed', onSettingsButtonPressed);\n\nvar HapticFeedback = (function() {\n  var hapticFeedback = {};\n\n  function triggerFeedback(params) {\n    if (!versionAtLeast('6.1')) {\n      console.warn('[Telegram.WebApp] HapticFeedback is not supported in version ' + webAppVersion);\n      return hapticFeedback;\n    }\n    if (params.type == 'impact') {\n      if (params.impact_style != 'light' &&\n          params.impact_style != 'medium' &&\n          params.impact_style != 'heavy' &&\n          params.impact_style != 'rigid' &&\n          params.impact_style != 'soft') {\n        console.error('[Telegram.WebApp] Haptic impact style is invalid', params.impact_style);\n        throw Error('WebAppHapticImpactStyleInvalid');\n      }\n    } else if (params.type == 'notification') {\n      if (params.notification_type != 'error' &&\n          params.notification_type != 'success' &&\n          params.notification_type != 'warning') {\n        console.error('[Telegram.WebApp] Haptic notification type is invalid', params.notification_type);\n        throw Error('WebAppHapticNotificationTypeInvalid');\n      }\n    } else if (params.type == 'selection_change') {\n      // no params needed\n    } else {\n      console.error('[Telegram.WebApp] Haptic feedback type is invalid', params.type);\n      throw Error('WebAppHapticFeedbackTypeInvalid');\n    }\n    WebView.postEvent('web_app_trigger_haptic_feedback', false, params);\n    return hapticFeedback;\n  }\n\n  hapticFeedback.impactOccurred = function(style) {\n    return triggerFeedback({type: 'impact', impact_style: style});\n  };\n  hapticFeedback.notificationOccurred = function(type) {\n    return triggerFeedback({type: 'notification', notification_type: type});\n  };\n  hapticFeedback.selectionChanged = function() {\n    return triggerFeedback({type: 'selection_change'});\n  };\n  return hapticFeedback;\n})();\n\nvar webAppInvoices = {};\nfunction onInvoiceClosed(eventType, eventData) {\n  if (eventData.slug && webAppInvoices[eventData.slug]) {\n    var invoiceData = webAppInvoices[eventData.slug];\n    delete webAppInvoices[eventData.slug];\n    if (invoiceData.callback) {\n      invoiceData.callback(eventData.status);\n    }\n    receiveWebViewEvent('invoiceClosed', {\n      url: invoiceData.url,\n      status: eventData.status\n    });\n  }\n}\n\nvar webAppPopupOpened = false;\nfunction onPopupClosed(eventType, eventData) {\n  if (webAppPopupOpened) {\n    var popupData = webAppPopupOpened;\n    webAppPopupOpened = false;\n    var button_id = null;\n    if (typeof eventData.button_id !== 'undefined') {\n      button_id = eventData.button_id;\n    }\n    if (popupData.callback) {\n      popupData.callback(button_id);\n    }\n    receiveWebViewEvent('popupClosed', {\n      button_id: button_id\n    });\n  }\n}\n\nvar webAppScanQrPopupOpened = false;\nfunction onQrTextReceived(eventType, eventData) {\n  if (webAppScanQrPopupOpened) {\n    var popupData = webAppScanQrPopupOpened;\n    var data = null;\n    if (typeof eventData.data !== 'undefined') {\n      data = eventData.data;\n    }\n    if (popupData.callback) {\n      if (popupData.callback(data)) {\n        webAppScanQrPopupOpened = false;\n        WebView.postEvent('web_app_close_scan_qr_popup', false);\n      }\n    }\n    receiveWebViewEvent('qrTextReceived', {\n      data: data\n    });\n  }\n}\nfunction onScanQrPopupClosed(eventType, eventData) {\n  webAppScanQrPopupOpened = false;\n}\n\nvar webAppClipboardRequests = {};\nfunction onClipboardTextReceived(eventType, eventData) {\n  if (eventData.req_id && webAppClipboardRequests[eventData.req_id]) {\n    var requestData = webAppClipboardRequests[eventData.req_id];\n    delete webAppClipboardRequests[eventData.req_id];\n    var data = null;\n    if (typeof eventData.data !== 'undefined') {\n      data = eventData.data;\n    }\n    if (requestData.callback) {\n      requestData.callback(data);\n    }\n    receiveWebViewEvent('clipboardTextReceived', {\n      data: data\n    });\n  }\n}\n\nObject.defineProperty(WebApp, 'initData', {\n  get: function(){ return webAppInitData; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'initDataUnsafe', {\n  get: function(){ return webAppInitDataUnsafe; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'version', {\n  get: function(){ return webAppVersion; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'platform', {\n  get: function(){ return webAppPlatform; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'colorScheme', {\n  get: function(){ return colorScheme; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'themeParams', {\n  get: function(){ return themeParams; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'isExpanded', {\n  get: function(){ return isExpanded; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'viewportHeight', {\n  get: function(){ return (viewportHeight === false ? window.innerHeight : viewportHeight) - mainButtonHeight; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'viewportStableHeight', {\n  get: function(){ return (viewportStableHeight === false ? window.innerHeight : viewportStableHeight) - mainButtonHeight; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'isClosingConfirmationEnabled', {\n  set: function(val){ setClosingConfirmation(val); },\n  get: function(){ return isClosingConfirmationEnabled; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'headerColor', {\n  set: function(val){ setHeaderColor(val); },\n  get: function(){ return getHeaderColor(); },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'backgroundColor', {\n  set: function(val){ setBackgroundColor(val); },\n  get: function(){ return getBackgroundColor(); },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'BackButton', {\n  value: BackButton,\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'MainButton', {\n  value: MainButton,\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'HapticFeedback', {\n  value: HapticFeedback,\n  enumerable: true\n});\nWebApp.setHeaderColor = function(color_key) {\n  WebApp.headerColor = color_key;\n};\nWebApp.setBackgroundColor = function(color) {\n  WebApp.backgroundColor = color;\n};\nWebApp.enableClosingConfirmation = function() {\n  WebApp.isClosingConfirmationEnabled = true;\n};\nWebApp.disableClosingConfirmation = function() {\n  WebApp.isClosingConfirmationEnabled = false;\n};\nWebApp.isVersionAtLeast = function(ver) {\n  return versionAtLeast(ver);\n};\nWebApp.onEvent = function(eventType, callback) {\n  onWebViewEvent(eventType, callback);\n};\nWebApp.offEvent = function(eventType, callback) {offWebViewEvent(eventType, callback);\n};\nWebApp.sendData = function (data) {\n  if (!data || !data.length) {\n    console.error('[Telegram.WebApp] Data is required', data);\n    throw Error('WebAppDataInvalid');\n  }\n  if (byteLength(data) > 4096) {\n    console.error('[Telegram.WebApp] Data is too long', data);\n    throw Error('WebAppDataInvalid');\n  }\n  WebView.postEvent('web_app_data_send', false, {data: data});\n};\nWebApp.openLink = function (url, options) {\n  var a = document.createElement('A');\n  a.href = url;\n  if (a.protocol != 'http:' &&\n      a.protocol != 'https:') {\n    console.error('[Telegram.WebApp] Url protocol is not supported', url);\n    throw Error('WebAppTgUrlInvalid');\n  }\n  var url = a.href;\n  options = options || {};\n  if (versionAtLeast('6.1')) {\n    WebView.postEvent('web_app_open_link', false, {url: url, try_instant_view: versionAtLeast('6.4') && !!options.try_instant_view});\n  } else {\n    window.open(url, '_blank');\n  }\n};\nWebApp.openTelegramLink = function (url) {\n  var a = document.createElement('A');\n  a.href = url;\n  if (a.protocol != 'http:' &&\n      a.protocol != 'https:') {\n    console.error('[Telegram.WebApp] Url protocol is not supported', url);\n    throw Error('WebAppTgUrlInvalid');\n  }\n  if (a.hostname != 't.me') {\n    console.error('[Telegram.WebApp] Url host is not supported', url);\n    throw Error('WebAppTgUrlInvalid');\n  }\n  var path_full = a.pathname + a.search;\n  if (isIframe || versionAtLeast('6.1')) {\n    WebView.postEvent('web_app_open_tg_link', false, {path_full: path_full});\n  } else {\n    location.href = 'https://t.me' + path_full;\n  }\n};\nWebApp.openInvoice = function (url, callback) {\n  var a = document.createElement('A'), match, slug;\n  a.href = url;\n  if (a.protocol != 'http:' &&\n      a.protocol != 'https:' ||\n      a.hostname != 't.me' ||\n      !(match = a.pathname.match(/^\\/(\\$|invoice\\/)([A-Za-z0-9\\-_=]+)$/)) ||\n      !(slug = match[2])) {\n    console.error('[Telegram.WebApp] Invoice url is invalid', url);\n    throw Error('WebAppInvoiceUrlInvalid');\n  }\n  if (!versionAtLeast('6.1')) {\n    console.error('[Telegram.WebApp] Method openInvoice is not supported in version ' + webAppVersion);\n    throw Error('WebAppMethodUnsupported');\n  }\n  if (webAppInvoices[slug]) {\n    console.error('[Telegram.WebApp] Invoice is already opened');\n    throw Error('WebAppInvoiceOpened');\n  }\n  webAppInvoices[slug] = {\n    url: url,\n    callback: callback\n  };\n  WebView.postEvent('web_app_open_invoice', false, {slug: slug});\n};\nWebApp.showPopup = function (params, callback) {\n  if (!versionAtLeast('6.2')) {\n    console.error('[Telegram.WebApp] Method showPopup is not supported in version ' + webAppVersion);\n    throw Error('WebAppMethodUnsupported');\n  }\n  if (webAppPopupOpened) {\n    console.error('[Telegram.WebApp] Popup is already opened');\n    throw Error('WebAppPopupOpened');\n  }\n  var title = '';\n  var message = '';\n  var buttons = [];\n  var popup_buttons = {};\n  var popup_params = {};\n  if (typeof params.title !== 'undefined') {\n    title = strTrim(params.title);\n    if (title.length > 64) {\n      console.error('[Telegram.WebApp] Popup title is too long', title);\n      throw Error('WebAppPopupParamInvalid');\n    }\n    if (title.length > 0) {\n      popup_params.title = title;\n    }\n  }\n  if (typeof params.message !== 'undefined') {\n    message = strTrim(params.message);\n  }\n  if (!message.length) {\n    console.error('[Telegram.WebApp] Popup message is required', params.message);\n    throw Error('WebAppPopupParamInvalid');\n  }\n  if (message.length > 256) {\n    console.error('[Telegram.WebApp] Popup message is too long', message);\n    throw Error('WebAppPopupParamInvalid');\n  }\n  popup_params.message = message;\n  if (typeof params.buttons !== 'undefined') {\n    if (!Array.isArray(params.buttons)) {\n      console.error('[Telegram.WebApp] Popup buttons should be an array', params.buttons);\n      throw Error('WebAppPopupParamInvalid');\n    }\n    for (var i = 0; i < params.buttons.length; i++) {\n      var button = params.buttons[i];\n      var btn = {};\n      var id = '';\n      if (typeof button.id !== 'undefined') {\n        id = button.id.toString();\n        if (id.length > 64) {\n          console.error('[Telegram.WebApp] Popup button id is too long', id);\n          throw Error('WebAppPopupParamInvalid');\n        }\n      }\n      btn.id = id;\n      var button_type = button.type;\n      if (typeof button_type === 'undefined') {\n        button_type = 'default';\n      }\n      btn.type = button_type;\n      if (button_type == 'ok' ||\n          button_type == 'close' ||\n          button_type == 'cancel') {\n        // no params needed\n      } else if (button_type == 'default' ||\n                 button_type == 'destructive') {\n        var text = '';\n        if (typeof button.text !== 'undefined') {\n          text = strTrim(button.text);\n        }\n        if (!text.length) {\n          console.error('[Telegram.WebApp] Popup button text is required for type ' + button_type, button.text);\n          throw Error('WebAppPopupParamInvalid');\n        }\n        if (text.length > 64) {\n          console.error('[Telegram.WebApp] Popup button text is too long', text);\n          throw Error('WebAppPopupParamInvalid');\n        }\n        btn.text = text;\n      } else {\n        console.error('[Telegram.WebApp] Popup button type is invalid', button_type);\n        throw Error('WebAppPopupParamInvalid');\n      }\n      buttons.push(btn);\n    }\n  } else {\n    buttons.push({id: '', type: 'close'});\n  }\n  if (buttons.length < 1) {\n    console.error('[Telegram.WebApp] Popup should have at least one button');\n    throw Error('WebAppPopupParamInvalid');\n  }\n  if (buttons.length > 3) {\n    console.error('[Telegram.WebApp] Popup should not have more than 3 buttons');\n    throw Error('WebAppPopupParamInvalid');\n  }\n  popup_params.buttons = buttons;\n\n  webAppPopupOpened = {\n    callback: callback\n  };\n  WebView.postEvent('web_app_open_popup', false, popup_params);\n};\nWebApp.showAlert = function (message, callback) {\n  WebApp.showPopup({\n    message: message\n  }, callback ? function(){ callback(); } : null);\n};\nWebApp.showConfirm = function (message, callback) {\n  WebApp.showPopup({\n    message: message,\n    buttons: [\n      {type: 'ok', id: 'ok'},\n      {type: 'cancel'}\n    ]\n  }, callback ? function (button_id) {\n    callback(button_id == 'ok');\n  } : null);\n};\nWebApp.showScanQrPopup = function (params, callback) {\n  if (!versionAtLeast('6.4')) {\n    console.error('[Telegram.WebApp] Method showScanQrPopup is not supported in version ' + webAppVersion);\n    throw Error('WebAppMethodUnsupported');\n  }\n  if (webAppScanQrPopupOpened) {\n    console.error('[Telegram.WebApp] Popup is already opened');\n    throw Error('WebAppScanQrPopupOpened');\n  }\n  var text = '';\n  var popup_params = {};\n  if (typeof params.text !== 'undefined') {\n    text = strTrim(params.text);\n    if (text.length > 64) {\n      console.error('[Telegram.WebApp] Scan QR popup text is too long', text);\n      throw Error('WebAppScanQrPopupParamInvalid');\n    }\n    if (text.length > 0) {\n      popup_params.text = text;\n    }\n  }\n\n  webAppScanQrPopupOpened = {\n    callback: callback\n  };\n  WebView.postEvent('web_app_open_scan_qr_popup', false, popup_params);\n};\nWebApp.closeScanQrPopup = function () {\n  if (!versionAtLeast('6.4')) {\n    console.error('[Telegram.WebApp] Method closeScanQrPopup is not supported in version ' + webAppVersion);\n    throw Error('WebAppMethodUnsupported');\n  }\n\n  webAppScanQrPopupOpened = false;\n  WebView.postEvent('web_app_close_scan_qr_popup', false);\n};\nWebApp.readTextFromClipboard = function (callback) {\n  if (!versionAtLeast('6.4')) {\n    console.error('[Telegram.WebApp] Method readTextFromClipboard is not supported in version ' + webAppVersion);\n    throw Error('WebAppMethodUnsupported');\n  }\n  var req_id = generateId(16);\n  var req_params = {req_id: req_id};\n  webAppClipboardRequests[req_id] = {\n    callback: callback\n  };\n  WebView.postEvent('web_app_read_text_from_clipboard', false, req_params);\n};\nWebApp.ready = function () {\n  WebView.postEvent('web_app_ready');\n};\nWebApp.expand = function () {\n  WebView.postEvent('web_app_expand');\n};\nWebApp.close = function () {\n  WebView.postEvent('web_app_close');\n};\n\nupdateBackgroundColor();\nsetViewportHeight();\n\nwindow.addEventListener('resize', onWindowResize);\nif (isIframe) {\n  document.addEventListener('click', linkHandler);\n}\n\nWebView.onEvent('theme_changed', onThemeChanged);\nWebView.onEvent('viewport_changed', onViewportChanged);\nWebView.onEvent('invoice_closed', onInvoiceClosed);\nWebView.onEvent('popup_closed', onPopupClosed);\nWebView.onEvent('qr_text_received', onQrTextReceived);\nWebView.onEvent('scan_qr_popup_closed', onScanQrPopupClosed);\nWebView.onEvent('clipboard_text_received', onClipboardTextReceived);\nWebView.postEvent('web_app_request_theme');\nWebView.postEvent('web_app_request_viewport');\n\nmodule.exports = {\n  WebApp: WebApp\n};\n","var eventHandlers = {};\n\nvar Proxy;\ntry {\n  Proxy = window.TelegramWebviewProxy;\n  delete window.TelegramWebviewProxy;\n} catch (e) {}\n\nvar locationHash = '';\ntry {\n  locationHash = location.hash.toString();\n  location.hash = '';\n} catch (e) {}\n\nvar initParams = urlParseHashParams(locationHash);\nvar storedParams = sessionStorageGet('initParams');\nif (storedParams) {\n  for (var key in storedParams) {\n    if (typeof initParams[key] === 'undefined') {\n      initParams[key] = storedParams[key];\n    }\n  }\n}\nsessionStorageSet('initParams', initParams);\n\nvar isIframe = false, iFrameStyle;\ntry {\n  isIframe = (window.parent != null && window != window.parent);\n  if (isIframe) {\n    window.addEventListener('message', function (event) {\n      if (event.source !== window.parent) return;\n      try {\n        var dataParsed = JSON.parse(event.data);\n      } catch (e) {\n        return;\n      }\n      if (!dataParsed || !dataParsed.eventType) {\n        return;\n      }\n      if (dataParsed.eventType == 'set_custom_style') {\n        iFrameStyle.innerHTML = dataParsed.eventData;\n      } else {\n        receiveEvent(dataParsed.eventType, dataParsed.eventData);\n      }\n    });\n    iFrameStyle = document.createElement('style');\n    document.head.appendChild(iFrameStyle);\n    try {\n      var trustedTarget = 'https://web.telegram.org';\n      // For now we don't restrict target, for testing purposes\n      // trustedTarget = '*';\n      window.parent.postMessage(JSON.stringify({eventType: 'iframe_ready'}), trustedTarget);\n    } catch (e) {}\n  }\n} catch (e) {}\n\nfunction urlSafeDecode(urlencoded) {\n  try {\n    urlencoded = urlencoded.replace(/\\+/g, '%20');\n    return decodeURIComponent(urlencoded);\n  } catch (e) {\n    return urlencoded;\n  }\n}\n\nfunction urlParseHashParams(locationHash) {\n  locationHash = locationHash.replace(/^#/, '');\n  var params = {};\n  if (!locationHash.length) {\n    return params;\n  }\n  if (locationHash.indexOf('=') < 0 && locationHash.indexOf('?') < 0) {\n    params._path = urlSafeDecode(locationHash);\n    return params;\n  }\n  var qIndex = locationHash.indexOf('?');\n  if (qIndex >= 0) {\n    var pathParam = locationHash.substr(0, qIndex);\n    params._path = urlSafeDecode(pathParam);\n    locationHash = locationHash.substr(qIndex + 1);\n  }\n  var query_params = urlParseQueryString(locationHash);\n  for (var k in query_params) {\n    params[k] = query_params[k];\n  }\n  return params;\n}\n\nfunction urlParseQueryString(queryString) {\n  var params = {};\n  if (!queryString.length) {\n    return params;\n  }\n  var queryStringParams = queryString.split('&');\n  var i, param, paramName, paramValue;\n  for (i = 0; i < queryStringParams.length; i++) {\n    param = queryStringParams[i].split('=');\n    paramName = urlSafeDecode(param[0]);\n    paramValue = param[1] == null ? null : urlSafeDecode(param[1]);\n    params[paramName] = paramValue;\n  }\n  return params;\n}\n\n// Telegram apps will implement this logic to add service params (e.g. tgShareScoreUrl) to game URL\nfunction urlAppendHashParams(url, addHash) {\n  // url looks like 'https://game.com/path?query=1#hash'\n  // addHash looks like 'tgShareScoreUrl=' + encodeURIComponent('tgb://share_game_score?hash=very_long_hash123')\n\n  var ind = url.indexOf('#');\n  if (ind < 0) {\n    // https://game.com/path -> https://game.com/path#tgShareScoreUrl=etc\n    return url + '#' + addHash;\n  }\n  var curHash = url.substr(ind + 1);\n  if (curHash.indexOf('=') >= 0 || curHash.indexOf('?') >= 0) {\n    // https://game.com/#hash=1 -> https://game.com/#hash=1&tgShareScoreUrl=etc\n    // https://game.com/#path?query -> https://game.com/#path?query&tgShareScoreUrl=etc\n    return url + '&' + addHash;\n  }\n  // https://game.com/#hash -> https://game.com/#hash?tgShareScoreUrl=etc\n  if (curHash.length > 0) {\n    return url + '?' + addHash;\n  }\n  // https://game.com/# -> https://game.com/#tgShareScoreUrl=etc\n  return url + addHash;\n}\n\nfunction postEvent(eventType, callback, eventData) {\n  if (!callback) {\n    callback = function () {};\n  }\n  if (eventData === undefined) {\n    eventData = '';\n  }\n\n  if (Proxy !== undefined) {\n    Proxy.postEvent(eventType, JSON.stringify(eventData));\n    callback();\n  }\n  else if (window.external && 'notify' in window.external) {\n    window.external.notify(JSON.stringify({eventType: eventType, eventData: eventData}));\n    callback();\n  }\n  else if (isIframe) {\n    try {\n      var trustedTarget = 'https://web.telegram.org';\n      // For now we don't restrict target, for testing purposes\n      // trustedTarget = '*';\n      window.parent.postMessage(JSON.stringify({eventType: eventType, eventData: eventData}), trustedTarget);\n      if (initParams.tgWebAppDebug) {\n        console.log('[Telegram.WebView] postEvent via postMessage', eventType, eventData);\n      }\n      callback();\n    } catch (e) {\n      callback(e);\n    }\n  }\n  else {\n    if (initParams.tgWebAppDebug) {\n      console.log('[Telegram.WebView] postEvent', eventType, eventData);\n    }\n    callback({notAvailable: true});\n  }\n};\n\nfunction receiveEvent(eventType, eventData) {\n  callEventCallbacks(eventType, function(callback) {\n    callback(eventType, eventData);\n  });\n}\n\nfunction callEventCallbacks(eventType, func) {\n  var curEventHandlers = eventHandlers[eventType];\n  if (curEventHandlers === undefined ||\n      !curEventHandlers.length) {\n    return;\n  }\n  for (var i = 0; i < curEventHandlers.length; i++) {\n    try {\n      func(curEventHandlers[i]);\n    } catch (e) {}\n  }\n}\n\nfunction onEvent(eventType, callback) {\n  if (eventHandlers[eventType] === undefined) {\n    eventHandlers[eventType] = [];\n  }\n  var index = eventHandlers[eventType].indexOf(callback);\n  if (index === -1) {\n    eventHandlers[eventType].push(callback);\n  }\n};\n\nfunction offEvent(eventType, callback) {\n  if (eventHandlers[eventType] === undefined) {\n    return;\n  }\n  var index = eventHandlers[eventType].indexOf(callback);\n  if (index === -1) {\n    return;\n  }\n  eventHandlers[eventType].splice(index, 1);\n};\n\nfunction openProtoUrl(url) {\n  if (!url.match(/^(web\\+)?tgb?:\\/\\/./)) {\n    return false;\n  }\n  var useIframe = navigator.userAgent.match(/iOS|iPhone OS|iPhone|iPod|iPad/i) ? true : false;\n  if (useIframe) {\n    var iframeContEl = document.getElementById('tgme_frame_cont') || document.body;\n    var iframeEl = document.createElement('iframe');\n    iframeContEl.appendChild(iframeEl);\n    var pageHidden = false;\n    var enableHidden = function () {\n      pageHidden = true;\n    };\n    window.addEventListener('pagehide', enableHidden, false);\n    window.addEventListener('blur', enableHidden, false);\n    if (iframeEl !== null) {\n      iframeEl.src = url;\n    }\n    setTimeout(function() {\n      if (!pageHidden) {\n        window.location = url;\n      }\n      window.removeEventListener('pagehide', enableHidden, false);\n      window.removeEventListener('blur', enableHidden, false);\n    }, 2000);\n  }\n  else {\n    window.location = url;\n  }\n  return true;\n}\n\nfunction sessionStorageSet(key, value) {\n  try {\n    window.sessionStorage.setItem('__telegram__' + key, JSON.stringify(value));\n    return true;\n  } catch(e) {}\n  return false;\n}\nfunction sessionStorageGet(key) {\n  try {\n    return JSON.parse(window.sessionStorage.getItem('__telegram__' + key));\n  } catch(e) {}\n  return null;\n}\n\nvar WebView = {\n  initParams: initParams,\n  isIframe: isIframe,\n  onEvent: onEvent,\n  offEvent: offEvent,\n  postEvent: postEvent,\n  receiveEvent: receiveEvent,\n  callEventCallbacks: callEventCallbacks,\n  Proxy: Proxy\n};\n\nvar Utils = {\n  urlSafeDecode: urlSafeDecode,\n  urlParseQueryString: urlParseQueryString,\n  urlParseHashParams: urlParseHashParams,\n  urlAppendHashParams: urlAppendHashParams,\n  sessionStorageSet: sessionStorageSet,\n  sessionStorageGet: sessionStorageGet\n};\n\nvar Game = {\n  // For Windows Phone app\n  Proxy_receiveEvent: receiveEvent,\n  // App backward compatibility\n  Proxy: {\n    receiveEvent: receiveEvent\n  }\n};\n\nmodule.exports = {\n  WebView: WebView,\n  Utils: Utils,\n  Game: Game\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(278);\n"],"names":["root","factory","exports","module","define","amd","self","module_webview","module_webapp","Telegram","WebView","Utils","Game","WebApp","initParams","isIframe","webAppInitData","webAppInitDataUnsafe","themeParams","colorScheme","webAppVersion","webAppPlatform","tgWebAppData","length","key","urlParseQueryString","val","substr","JSON","parse","e","tgWebAppThemeParams","themeParamsRaw","theme_params","setThemeParams","sessionStorageGet","tgWebAppVersion","tgWebAppPlatform","lastWindowHeight","window","innerHeight","onWindowResize","receiveWebViewEvent","isStateStable","strTrim","str","toString","replace","eventType","args","Array","prototype","slice","call","arguments","shift","callEventCallbacks","callback","apply","onWebViewEvent","onEvent","offWebViewEvent","offEvent","setCssProperty","name","value","document","documentElement","style","setProperty","color","bg_color","secondary_bg_color","parseColorToHex","isColorDark","split","join","sessionStorageSet","viewportHeight","viewportStableHeight","isExpanded","setViewportHeight","data","stable_height","is_expanded","height","is_state_stable","mainButtonHeight","isClosingConfirmationEnabled","headerColorKey","backgroundColor","getBackgroundColor","appBackgroundColor","updateBackgroundColor","postEvent","match","exec","toLowerCase","r","parseInt","g","b","rgb","Math","sqrt","versionAtLeast","ver","v1","v2","i","p1","p2","a","max","versionCompare","BackButton","isVisible","backButton","Object","defineProperty","set","setParams","is_visible","get","enumerable","curButtonState","buttonParams","buttonCheckVersion","console","warn","params","btn_params","btn_state","stringify","buttonState","onClick","offClick","show","hide","MainButton","isActive","isProgressVisible","buttonText","buttonColor","buttonTextColor","mainButton","text","button_color","text_color","button_text_color","is_active","onMainButtonPressed","debugBtn","debugBtnStyle","tgWebAppDebug","k","createElement","font","display","width","borderRadius","background","position","left","right","bottom","margin","padding","textAlign","boxSizing","zIndex","addEventListener","onDomLoaded","event","removeEventListener","body","appendChild","textColor","is_progress_visible","updateButton","opacity","cursor","disabled","innerText","backgroundImage","paddingBottom","updateDebugButton","setText","enable","disable","showProgress","leaveActive","hideProgress","error","Error","HapticFeedback","hapticFeedback","triggerFeedback","type","impact_style","notification_type","impactOccurred","notificationOccurred","selectionChanged","webAppInvoices","webAppPopupOpened","webAppScanQrPopupOpened","webAppClipboardRequests","need_confirmation","color_key","setHeaderColor","setBackgroundColor","headerColor","enableClosingConfirmation","disableClosingConfirmation","isVersionAtLeast","sendData","Blob","size","s","code","charCodeAt","byteLength","openLink","url","options","href","protocol","try_instant_view","open","openTelegramLink","hostname","path_full","pathname","search","location","openInvoice","slug","showPopup","title","message","buttons","popup_params","isArray","button","btn","id","button_type","push","showAlert","showConfirm","button_id","showScanQrPopup","closeScanQrPopup","readTextFromClipboard","req_id","len","chars","chars_len","floor","random","generateId","req_params","ready","expand","close","metaKey","ctrlKey","el","target","tagName","parentNode","openTgLink","preventDefault","eventData","invoiceData","status","popupData","requestData","Proxy","eventHandlers","TelegramWebviewProxy","locationHash","hash","urlParseHashParams","storedParams","iFrameStyle","parent","source","dataParsed","innerHTML","receiveEvent","head","postMessage","urlSafeDecode","urlencoded","decodeURIComponent","indexOf","_path","qIndex","pathParam","query_params","queryString","param","paramName","paramValue","queryStringParams","func","curEventHandlers","undefined","sessionStorage","setItem","getItem","index","splice","external","notify","log","notAvailable","urlAppendHashParams","addHash","ind","curHash","Proxy_receiveEvent","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}