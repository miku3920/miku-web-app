{"version":3,"file":"telegram.min.mjs","mappings":"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","sources":["webpack://miku-web-app/webpack/bootstrap","webpack://miku-web-app/webpack/runtime/define property getters","webpack://miku-web-app/webpack/runtime/hasOwnProperty shorthand","webpack://miku-web-app/./src/esm/telegram/webview.mjs","webpack://miku-web-app/./src/esm/telegram/webapp.mjs","webpack://miku-web-app/./src/esm/index.mjs"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var eventHandlers = {};\n\nvar locationHash = '';\ntry {\n  locationHash = location.hash.toString();\n} catch (e) {}\n\nvar initParams = urlParseHashParams(locationHash);\nvar storedParams = sessionStorageGet('initParams');\nif (storedParams) {\n  for (var key in storedParams) {\n    if (typeof initParams[key] === 'undefined') {\n      initParams[key] = storedParams[key];\n    }\n  }\n}\nsessionStorageSet('initParams', initParams);\n\nvar isIframe = false, iFrameStyle;\ntry {\n  isIframe = (window.parent != null && window != window.parent);\n  if (isIframe) {\n    window.addEventListener('message', function (event) {\n      if (event.source !== window.parent) return;\n      try {\n        var dataParsed = JSON.parse(event.data);\n      } catch (e) {\n        return;\n      }\n      if (!dataParsed || !dataParsed.eventType) {\n        return;\n      }\n      if (dataParsed.eventType == 'set_custom_style') {\n        iFrameStyle.innerHTML = dataParsed.eventData;\n      } else {\n        receiveEvent(dataParsed.eventType, dataParsed.eventData);\n      }\n    });\n    iFrameStyle = document.createElement('style');\n    document.head.appendChild(iFrameStyle);\n    try {\n      var trustedTarget = 'https://web.telegram.org';\n      // For now we don't restrict target, for testing purposes\n      // trustedTarget = '*';\n      window.parent.postMessage(JSON.stringify({eventType: 'iframe_ready'}), trustedTarget);\n    } catch (e) {}\n  }\n} catch (e) {}\n\nfunction urlSafeDecode(urlencoded) {\n  try {\n    urlencoded = urlencoded.replace(/\\+/g, '%20');\n    return decodeURIComponent(urlencoded);\n  } catch (e) {\n    return urlencoded;\n  }\n}\n\nfunction urlParseHashParams(locationHash) {\n  locationHash = locationHash.replace(/^#/, '');\n  var params = {};\n  if (!locationHash.length) {\n    return params;\n  }\n  if (locationHash.indexOf('=') < 0 && locationHash.indexOf('?') < 0) {\n    params._path = urlSafeDecode(locationHash);\n    return params;\n  }\n  var qIndex = locationHash.indexOf('?');\n  if (qIndex >= 0) {\n    var pathParam = locationHash.substr(0, qIndex);\n    params._path = urlSafeDecode(pathParam);\n    locationHash = locationHash.substr(qIndex + 1);\n  }\n  var query_params = urlParseQueryString(locationHash);\n  for (var k in query_params) {\n    params[k] = query_params[k];\n  }\n  return params;\n}\n\nfunction urlParseQueryString(queryString) {\n  var params = {};\n  if (!queryString.length) {\n    return params;\n  }\n  var queryStringParams = queryString.split('&');\n  var i, param, paramName, paramValue;\n  for (i = 0; i < queryStringParams.length; i++) {\n    param = queryStringParams[i].split('=');\n    paramName = urlSafeDecode(param[0]);\n    paramValue = param[1] == null ? null : urlSafeDecode(param[1]);\n    params[paramName] = paramValue;\n  }\n  return params;\n}\n\n// Telegram apps will implement this logic to add service params (e.g. tgShareScoreUrl) to game URL\nfunction urlAppendHashParams(url, addHash) {\n  // url looks like 'https://game.com/path?query=1#hash'\n  // addHash looks like 'tgShareScoreUrl=' + encodeURIComponent('tgb://share_game_score?hash=very_long_hash123')\n\n  var ind = url.indexOf('#');\n  if (ind < 0) {\n    // https://game.com/path -> https://game.com/path#tgShareScoreUrl=etc\n    return url + '#' + addHash;\n  }\n  var curHash = url.substr(ind + 1);\n  if (curHash.indexOf('=') >= 0 || curHash.indexOf('?') >= 0) {\n    // https://game.com/#hash=1 -> https://game.com/#hash=1&tgShareScoreUrl=etc\n    // https://game.com/#path?query -> https://game.com/#path?query&tgShareScoreUrl=etc\n    return url + '&' + addHash;\n  }\n  // https://game.com/#hash -> https://game.com/#hash?tgShareScoreUrl=etc\n  if (curHash.length > 0) {\n    return url + '?' + addHash;\n  }\n  // https://game.com/# -> https://game.com/#tgShareScoreUrl=etc\n  return url + addHash;\n}\n\nfunction postEvent(eventType, callback, eventData) {\n  if (!callback) {\n    callback = function () {};\n  }\n  if (eventData === undefined) {\n    eventData = '';\n  }\n\n  if (window.TelegramWebviewProxy !== undefined) {\n    window.TelegramWebviewProxy.postEvent(eventType, JSON.stringify(eventData));\n    callback();\n  }\n  else if (window.external && 'notify' in window.external) {\n    window.external.notify(JSON.stringify({eventType: eventType, eventData: eventData}));\n    callback();\n  }\n  else if (isIframe) {\n    try {\n      var trustedTarget = 'https://web.telegram.org';\n      // For now we don't restrict target, for testing purposes\n      // trustedTarget = '*';\n      window.parent.postMessage(JSON.stringify({eventType: eventType, eventData: eventData}), trustedTarget);\n      if (initParams.tgWebAppDebug) {\n        console.log('[Telegram.WebView] postEvent via postMessage', eventType, eventData);\n      }\n      callback();\n    } catch (e) {\n      callback(e);\n    }\n  }\n  else {\n    if (initParams.tgWebAppDebug) {\n      console.log('[Telegram.WebView] postEvent', eventType, eventData);\n    }\n    callback({notAvailable: true});\n  }\n};\n\nfunction receiveEvent(eventType, eventData) {\n  callEventCallbacks(eventType, function(callback) {\n    callback(eventType, eventData);\n  });\n}\n\nfunction callEventCallbacks(eventType, func) {\n  var curEventHandlers = eventHandlers[eventType];\n  if (curEventHandlers === undefined ||\n      !curEventHandlers.length) {\n    return;\n  }\n  for (var i = 0; i < curEventHandlers.length; i++) {\n    try {\n      func(curEventHandlers[i]);\n    } catch (e) {}\n  }\n}\n\nfunction onEvent(eventType, callback) {\n  if (eventHandlers[eventType] === undefined) {\n    eventHandlers[eventType] = [];\n  }\n  var index = eventHandlers[eventType].indexOf(callback);\n  if (index === -1) {\n    eventHandlers[eventType].push(callback);\n  }\n};\n\nfunction offEvent(eventType, callback) {\n  if (eventHandlers[eventType] === undefined) {\n    return;\n  }\n  var index = eventHandlers[eventType].indexOf(callback);\n  if (index === -1) {\n    return;\n  }\n  eventHandlers[eventType].splice(index, 1);\n};\n\nfunction openProtoUrl(url) {\n  if (!url.match(/^(web\\+)?tgb?:\\/\\/./)) {\n    return false;\n  }\n  var useIframe = navigator.userAgent.match(/iOS|iPhone OS|iPhone|iPod|iPad/i) ? true : false;\n  if (useIframe) {\n    var iframeContEl = document.getElementById('tgme_frame_cont') || document.body;\n    var iframeEl = document.createElement('iframe');\n    iframeContEl.appendChild(iframeEl);\n    var pageHidden = false;\n    var enableHidden = function () {\n      pageHidden = true;\n    };\n    window.addEventListener('pagehide', enableHidden, false);\n    window.addEventListener('blur', enableHidden, false);\n    if (iframeEl !== null) {\n      iframeEl.src = url;\n    }\n    setTimeout(function() {\n      if (!pageHidden) {\n        window.location = url;\n      }\n      window.removeEventListener('pagehide', enableHidden, false);\n      window.removeEventListener('blur', enableHidden, false);\n    }, 2000);\n  }\n  else {\n    window.location = url;\n  }\n  return true;\n}\n\nfunction sessionStorageSet(key, value) {\n  try {\n    window.sessionStorage.setItem('__telegram__' + key, JSON.stringify(value));\n    return true;\n  } catch(e) {}\n  return false;\n}\nfunction sessionStorageGet(key) {\n  try {\n    return JSON.parse(window.sessionStorage.getItem('__telegram__' + key));\n  } catch(e) {}\n  return null;\n}\n\nvar WebView = {\n  initParams: initParams,\n  isIframe: isIframe,\n  onEvent: onEvent,\n  offEvent: offEvent,\n  postEvent: postEvent,\n  receiveEvent: receiveEvent,\n  callEventCallbacks: callEventCallbacks\n};\n\nvar Utils = {\n  urlSafeDecode: urlSafeDecode,\n  urlParseQueryString: urlParseQueryString,\n  urlParseHashParams: urlParseHashParams,\n  urlAppendHashParams: urlAppendHashParams,\n  sessionStorageSet: sessionStorageSet,\n  sessionStorageGet: sessionStorageGet\n};\n\nvar Game = {\n  // For Windows Phone app\n  Proxy_receiveEvent: receiveEvent,\n  // App backward compatibility\n  Proxy: {\n    receiveEvent: receiveEvent\n  }\n};\n\nexport default {\n  WebView: WebView,\n  Utils: Utils,\n  Game: Game\n};\n","import module_webview from './webview.mjs';\n\nvar Utils = module_webview.Utils;\nvar WebView = module_webview.WebView;\nvar initParams = WebView.initParams;\nvar isIframe = WebView.isIframe;\n\nvar WebApp = {};\nvar webAppInitData = '', webAppInitDataUnsafe = {};\nvar themeParams = {}, colorScheme = 'light';\nvar webAppVersion = '6.0';\n\nif (initParams.tgWebAppData && initParams.tgWebAppData.length) {\n  webAppInitData = initParams.tgWebAppData;\n  webAppInitDataUnsafe = Utils.urlParseQueryString(webAppInitData);\n  for (var key in webAppInitDataUnsafe) {\n    var val = webAppInitDataUnsafe[key];\n    try {\n      if (val.substr(0, 1) == '{' && val.substr(-1) == '}' ||\n          val.substr(0, 1) == '[' && val.substr(-1) == ']') {\n        webAppInitDataUnsafe[key] = JSON.parse(val);\n      }\n    } catch (e) {}\n  }\n}\nif (initParams.tgWebAppThemeParams && initParams.tgWebAppThemeParams.length) {\n  var themeParamsRaw = initParams.tgWebAppThemeParams;\n  try {\n    var theme_params = JSON.parse(themeParamsRaw);\n    if (theme_params) {\n      setThemeParams(theme_params);\n    }\n  } catch (e) {}\n}\nvar theme_params = Utils.sessionStorageGet('themeParams');\nif (theme_params) {\n  setThemeParams(theme_params);\n}\nif (initParams.tgWebAppVersion) {\n  webAppVersion = initParams.tgWebAppVersion;\n}\n\nfunction onThemeChanged(eventType, eventData) {\n  if (eventData.theme_params) {\n    setThemeParams(eventData.theme_params);\n    WebApp.MainButton.setParams({});\n    updateBackgroundColor();\n    receiveWebViewEvent('themeChanged');\n  }\n}\n\nvar lastWindowHeight = window.innerHeight;\nfunction onViewportChanged(eventType, eventData) {\n  if (eventData.height) {\n    window.removeEventListener('resize', onWindowResize);\n    setViewportHeight(eventData);\n  }\n}\n\nfunction onWindowResize(e) {\n  if (lastWindowHeight != window.innerHeight) {\n    lastWindowHeight = window.innerHeight;\n    receiveWebViewEvent('viewportChanged', {\n      isStateStable: true\n    });\n  }\n}\n\nfunction linkHandler(e) {\n  if (e.metaKey || e.ctrlKey) return;\n  var el = e.target;\n  while (el.tagName != 'A' && el.parentNode) {\n    el = el.parentNode;\n  }\n  if (el.tagName == 'A' &&\n      el.target != '_blank' &&\n      (el.protocol == 'http:' || el.protocol == 'https:') &&\n      el.hostname == 't.me') {\n    WebApp.openTgLink(el.href);\n    e.preventDefault();\n  }\n}\n\nfunction strTrim(str) {\n  return str.toString().replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction receiveWebViewEvent(eventType) {\n  var args = Array.prototype.slice.call(arguments);\n  eventType = args.shift();\n  WebView.callEventCallbacks('webview:' + eventType, function(callback) {\n    callback.apply(WebApp, args);\n  });\n}\n\nfunction onWebViewEvent(eventType, callback) {\n  WebView.onEvent('webview:' + eventType, callback);\n};\n\nfunction offWebViewEvent(eventType, callback) {\n  WebView.offEvent('webview:' + eventType, callback);\n};\n\nfunction setCssProperty(name, value) {\n  var root = document.documentElement;\n  if (root && root.style && root.style.setProperty) {\n    root.style.setProperty('--tg-' + name, value);\n  }\n}\n\nfunction setThemeParams(theme_params) {\n  // temp iOS fix\n  if (theme_params.bg_color == '#1c1c1d' &&\n      theme_params.bg_color == theme_params.secondary_bg_color) {\n    theme_params.secondary_bg_color = '#2c2c2e';\n  }\n  var color;\n  for (var key in theme_params) {\n    if (color = parseColorToHex(theme_params[key])) {\n      themeParams[key] = color;\n      if (key == 'bg_color') {\n        colorScheme = isColorDark(color) ? 'dark' : 'light'\n        setCssProperty('color-scheme', colorScheme);\n      }\n      key = 'theme-' + key.split('_').join('-');\n      setCssProperty(key, color);\n    }\n  }\n  Utils.sessionStorageSet('themeParams', themeParams);\n}\n\nvar viewportHeight = false, viewportStableHeight = false, isExpanded = true;\nfunction setViewportHeight(data) {\n  if (typeof data !== 'undefined') {\n    isExpanded = !!data.is_expanded;\n    viewportHeight = data.height;\n    if (data.is_state_stable) {\n      viewportStableHeight = data.height;\n    }\n    receiveWebViewEvent('viewportChanged', {\n      isStateStable: !!data.is_state_stable\n    });\n  }\n  var height, stable_height;\n  if (viewportHeight !== false) {\n    height = (viewportHeight - mainButtonHeight) + 'px';\n  } else {\n    height = mainButtonHeight ? 'calc(100vh - ' + mainButtonHeight + 'px)' : '100vh';\n  }\n  if (viewportStableHeight !== false) {\n    stable_height = (viewportStableHeight - mainButtonHeight) + 'px';\n  } else {\n    stable_height = mainButtonHeight ? 'calc(100vh - ' + mainButtonHeight + 'px)' : '100vh';\n  }\n  setCssProperty('viewport-height', height);\n  setCssProperty('viewport-stable-height', stable_height);\n}\n\nvar closingConfirmation = false;\nfunction setClosingConfirmation(need_confirmation) {\n  if (!versionAtLeast('6.2')) {\n    console.warn('[Telegram.WebApp] closingConfirmation is not supported in version ' + webAppVersion);\n    return;\n  }\n  closingConfirmation = !!need_confirmation;\n  WebView.postEvent('web_app_setup_closing_behavior', false, {need_confirmation: closingConfirmation});\n}\n\nvar headerColorKey = 'bg_color';\nfunction getHeaderColor() {\n  return themeParams[headerColorKey] || null;\n}\nfunction setHeaderColor(color) {\n  if (!versionAtLeast('6.1')) {\n    console.warn('[Telegram.WebApp] Header color is not supported in version ' + webAppVersion);\n    return;\n  }\n  var color_key;\n  if (color == 'bg_color' || color == 'secondary_bg_color') {\n    color_key = color;\n  } else {\n    color_key = parseColorToHex(color);\n    if (themeParams.bg_color &&\n        themeParams.bg_color == color_key) {\n      color_key = 'bg_color';\n    } else if (themeParams.secondary_bg_color &&\n                themeParams.secondary_bg_color == color_key) {\n      color_key = 'secondary_bg_color';\n    } else {\n      color_key = false;\n    }\n  }\n  if (color_key != 'bg_color' &&\n      color_key != 'secondary_bg_color') {\n    console.error('[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, \\'bg_color\\', \\'secondary_bg_color\\'', color);\n    throw Error('WebAppHeaderColorKeyInvalid');\n  }\n  headerColorKey = color_key;\n  WebView.postEvent('web_app_set_header_color', false, {color_key: color_key});\n}\n\nvar backgroundColor = 'bg_color';\nfunction getBackgroundColor() {\n  if (backgroundColor == 'secondary_bg_color') {\n    return themeParams.secondary_bg_color;\n  } else if (backgroundColor == 'bg_color') {\n    return themeParams.bg_color;\n  }\n  return backgroundColor;\n}\nfunction setBackgroundColor(color) {\n  if (!versionAtLeast('6.1')) {\n    console.warn('[Telegram.WebApp] Background color is not supported in version ' + webAppVersion);\n    return;\n  }\n  var bg_color;\n  if (color == 'bg_color' || color == 'secondary_bg_color') {\n    bg_color = color;\n  } else {\n    bg_color = parseColorToHex(color);\n    if (!bg_color) {\n      console.error('[Telegram.WebApp] Background color format is invalid', color);\n      throw Error('WebAppBackgroundColorInvalid');\n    }\n  }\n  backgroundColor = bg_color;\n  updateBackgroundColor();\n}\nvar appBackgroundColor = null;\nfunction updateBackgroundColor() {\n  var color = getBackgroundColor();\n  if (appBackgroundColor != color) {\n    appBackgroundColor = color;\n    WebView.postEvent('web_app_set_background_color', false, {color: color});\n  }\n}\n\n\nfunction parseColorToHex(color) {\n  color += '';\n  var match;\n  if (match = /^\\s*#([0-9a-f]{6})\\s*$/i.exec(color)) {\n    return '#' + match[1].toLowerCase();\n  }\n  else if (match = /^\\s*#([0-9a-f])([0-9a-f])([0-9a-f])\\s*$/i.exec(color)) {\n    return ('#' + match[1] + match[1] + match[2] + match[2] + match[3] + match[3]).toLowerCase();\n  }\n  else if (match = /^\\s*rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+\\.{0,1}\\d*))?\\)\\s*$/.exec(color)) {\n    var r = parseInt(match[1]), g = parseInt(match[2]), b = parseInt(match[3]);\n    r = (r < 16 ? '0' : '') + r.toString(16);\n    g = (g < 16 ? '0' : '') + g.toString(16);\n    b = (b < 16 ? '0' : '') + b.toString(16);\n    return '#' + r + g + b;\n  }\n  return false;\n}\n\nfunction isColorDark(rgb) {\n  rgb = rgb.replace(/[\\s#]/g, '');\n  if (rgb.length == 3) {\n    rgb = rgb[0] + rgb[0] + rgb[1] + rgb[1] + rgb[2] + rgb[2];\n  }\n  var r = parseInt(rgb.substr(0, 2), 16);\n  var g = parseInt(rgb.substr(2, 2), 16);\n  var b = parseInt(rgb.substr(4, 2), 16);\n  var hsp = Math.sqrt(0.299 * (r * r) + 0.587 * (g * g) + 0.114 * (b * b));\n  return hsp < 120;\n}\n\nfunction versionCompare(v1, v2) {\n  if (typeof v1 !== 'string') v1 = '';\n  if (typeof v2 !== 'string') v2 = '';\n  v1 = v1.replace(/^\\s+|\\s+$/g, '').split('.');\n  v2 = v2.replace(/^\\s+|\\s+$/g, '').split('.');\n  var a = Math.max(v1.length, v2.length), i, p1, p2;\n  for (i = 0; i < a; i++) {\n    p1 = parseInt(v1[i]) || 0;\n    p2 = parseInt(v2[i]) || 0;\n    if (p1 == p2) continue;\n    if (p1 > p2) return 1;\n    return -1;\n  }\n  return 0;\n}\n\nfunction versionAtLeast(ver) {\n  return versionCompare(webAppVersion, ver) >= 0;\n}\n\nfunction byteLength(str) {\n  if (window.Blob) {\n    try { return new Blob([str]).size; } catch (e) {}\n  }\n  var s = str.length;\n  for (var i=str.length-1; i>=0; i--) {\n    var code = str.charCodeAt(i);\n    if (code > 0x7f && code <= 0x7ff) s++;\n    else if (code > 0x7ff && code <= 0xffff) s+=2;\n    if (code >= 0xdc00 && code <= 0xdfff) i--;\n  }\n  return s;\n}\n\nvar BackButton = (function() {\n  var isVisible = false;\n\n  var backButton = {};\n  Object.defineProperty(backButton, 'isVisible', {\n    set: function(val){ setParams({is_visible: val}); },\n    get: function(){ return isVisible; },\n    enumerable: true\n  });\n\n  var curButtonState = null;\n\n  WebView.onEvent('back_button_pressed', onBackButtonPressed);\n\n  function onBackButtonPressed() {\n    receiveWebViewEvent('backButtonClicked');\n  }\n\n  function buttonParams() {\n    return {is_visible: isVisible};\n  }\n\n  function buttonState(btn_params) {\n    if (typeof btn_params === 'undefined') {\n      btn_params = buttonParams();\n    }\n    return JSON.stringify(btn_params);\n  }\n\n  function buttonCheckVersion() {\n    if (!versionAtLeast('6.1')) {\n      console.warn('[Telegram.WebApp] BackButton is not supported in version ' + webAppVersion);\n      return false;\n    }\n    return true;\n  }\n\n  function updateButton() {\n    var btn_params = buttonParams();\n    var btn_state = buttonState(btn_params);\n    if (curButtonState === btn_state) {\n      return;\n    }\n    curButtonState = btn_state;\n    WebView.postEvent('web_app_setup_back_button', false, btn_params);\n  }\n\n  function setParams(params) {\n    if (!buttonCheckVersion()) {\n      return backButton;\n    }\n    if (typeof params.is_visible !== 'undefined') {\n      isVisible = !!params.is_visible;\n    }\n    updateButton();\n    return backButton;\n  }\n\n  backButton.onClick = function(callback) {\n    if (buttonCheckVersion()) {\n      onWebViewEvent('backButtonClicked', callback);\n    }\n    return backButton;\n  };\n  backButton.offClick = function(callback) {\n    if (buttonCheckVersion()) {\n      offWebViewEvent('backButtonClicked', callback);\n    }\n    return backButton;\n  };\n  backButton.show = function() {\n    return setParams({is_visible: true});\n  };\n  backButton.hide = function() {\n    return setParams({is_visible: false});\n  };\n  return backButton;\n})();\n\nvar mainButtonHeight = 0;\nvar MainButton = (function() {\n  var isVisible = false;\n  var isActive = true;\n  var isProgressVisible = false;\n  var buttonText = 'CONTINUE';\n  var buttonColor = false;\n  var buttonTextColor = false;\n\n  var mainButton = {};\n  Object.defineProperty(mainButton, 'text', {\n    set: function(val){ mainButton.setParams({text: val}); },\n    get: function(){ return buttonText; },\n    enumerable: true\n  });\n  Object.defineProperty(mainButton, 'color', {\n    set: function(val){ mainButton.setParams({color: val}); },\n    get: function(){ return buttonColor || themeParams.button_color || '#2481cc'; },\n    enumerable: true\n  });\n  Object.defineProperty(mainButton, 'textColor', {\n    set: function(val){ mainButton.setParams({text_color: val}); },\n    get: function(){ return buttonTextColor || themeParams.button_text_color || '#ffffff'; },\n    enumerable: true\n  });\n  Object.defineProperty(mainButton, 'isVisible', {\n    set: function(val){ mainButton.setParams({is_visible: val}); },\n    get: function(){ return isVisible; },\n    enumerable: true\n  });\n  Object.defineProperty(mainButton, 'isProgressVisible', {\n    get: function(){ return isProgressVisible; },\n    enumerable: true\n  });\n  Object.defineProperty(mainButton, 'isActive', {\n    set: function(val){ mainButton.setParams({is_active: val}); },\n    get: function(){ return isActive; },\n    enumerable: true\n  });\n\n  var curButtonState = null;\n\n  WebView.onEvent('main_button_pressed', onMainButtonPressed);\n\n  var debugBtn = null, debugBtnStyle = {};\n  if (initParams.tgWebAppDebug) {\n    debugBtn = document.createElement('tg-main-button');\n    debugBtnStyle = {\n      font: '600 14px/18px sans-serif',\n      display: 'none',\n      width: '100%',\n      height: '48px',\n      borderRadius: '0',\n      background: 'no-repeat right center',\n      position: 'fixed',\n      left: '0',\n      right: '0',\n      bottom: '0',\n      margin: '0',\n      padding: '15px 20px',\n      textAlign: 'center',\n      boxSizing: 'border-box',\n      zIndex: '10000'\n    };\n    for (var k in debugBtnStyle) {\n      debugBtn.style[k] = debugBtnStyle[k];\n    }\n    document.addEventListener('DOMContentLoaded', function onDomLoaded(event) {\n      document.removeEventListener('DOMContentLoaded', onDomLoaded);\n      document.body.appendChild(debugBtn);\n      debugBtn.addEventListener('click', onMainButtonPressed, false);\n    });\n  }\n\n  function onMainButtonPressed() {\n    if (isActive) {\n      receiveWebViewEvent('mainButtonClicked');\n    }\n  }\n\n  function buttonParams() {\n    var color = mainButton.color;\n    var text_color = mainButton.textColor;\n    return isVisible ? {\n      is_visible: true,\n      is_active: isActive,\n      is_progress_visible: isProgressVisible,\n      text: buttonText,\n      color: color,\n      text_color: text_color\n    } : {is_visible: false};\n  }\n\n  function buttonState(btn_params) {\n    if (typeof btn_params === 'undefined') {\n      btn_params = buttonParams();\n    }\n    return JSON.stringify(btn_params);\n  }\n\n  function updateButton() {\n    var btn_params = buttonParams();\n    var btn_state = buttonState(btn_params);\n    if (curButtonState === btn_state) {\n      return;\n    }\n    curButtonState = btn_state;\n    WebView.postEvent('web_app_setup_main_button', false, btn_params);\n    if (initParams.tgWebAppDebug) {\n      updateDebugButton(btn_params);\n    }\n  }\n\n  function updateDebugButton(btn_params) {\n    if (btn_params.is_visible) {\n      debugBtn.style.display = 'block';\n      mainButtonHeight = 48;\n\n      debugBtn.style.opacity = btn_params.is_active ? '1' : '0.8';\n      debugBtn.style.cursor = btn_params.is_active ? 'pointer' : 'auto';\n      debugBtn.disabled = !btn_params.is_active;\n      debugBtn.innerText = btn_params.text;\n      debugBtn.style.backgroundImage = btn_params.is_progress_visible ? \"url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewport%3D%220%200%2048%2048%22%20width%3D%2248px%22%20height%3D%2248px%22%3E%3Ccircle%20cx%3D%2250%25%22%20cy%3D%2250%25%22%20stroke%3D%22%23fff%22%20stroke-width%3D%222.25%22%20stroke-linecap%3D%22round%22%20fill%3D%22none%22%20stroke-dashoffset%3D%22106%22%20r%3D%229%22%20stroke-dasharray%3D%2256.52%22%20rotate%3D%22-90%22%3E%3Canimate%20attributeName%3D%22stroke-dashoffset%22%20attributeType%3D%22XML%22%20dur%3D%22360s%22%20from%3D%220%22%20to%3D%2212500%22%20repeatCount%3D%22indefinite%22%3E%3C%2Fanimate%3E%3CanimateTransform%20attributeName%3D%22transform%22%20attributeType%3D%22XML%22%20type%3D%22rotate%22%20dur%3D%221s%22%20from%3D%22-90%2024%2024%22%20to%3D%22630%2024%2024%22%20repeatCount%3D%22indefinite%22%3E%3C%2FanimateTransform%3E%3C%2Fcircle%3E%3C%2Fsvg%3E')\" : 'none';\n      debugBtn.style.backgroundColor = btn_params.color;\n      debugBtn.style.color = btn_params.text_color;\n    } else {\n      debugBtn.style.display = 'none';\n      mainButtonHeight = 0;\n    }\n    if (document.documentElement) {\n      document.documentElement.style.boxSizing = 'border-box';\n      document.documentElement.style.paddingBottom = mainButtonHeight + 'px';\n    }\n    setViewportHeight();\n  }\n\n  function setParams(params) {\n    if (typeof params.text !== 'undefined') {\n      var text = strTrim(params.text);\n      if (!text.length) {\n        console.error('[Telegram.WebApp] Main button text is required', params.text);\n        throw Error('WebAppMainButtonParamInvalid');\n      }\n      if (text.length > 64) {\n        console.error('[Telegram.WebApp] Main button text is too long', text);\n        throw Error('WebAppMainButtonParamInvalid');\n      }\n      buttonText = text;\n    }\n    if (typeof params.color !== 'undefined') {\n      if (params.color === false ||\n          params.color === null) {\n        buttonColor = false;\n      } else {\n        var color = parseColorToHex(params.color);\n        if (!color) {\n          console.error('[Telegram.WebApp] Main button color format is invalid', params.color);\n          throw Error('WebAppMainButtonParamInvalid');\n        }\n        buttonColor = color;\n      }\n    }\n    if (typeof params.text_color !== 'undefined') {\n      if (params.text_color === false ||\n          params.text_color === null) {\n        buttonTextColor = false;\n      } else {\n        var text_color = parseColorToHex(params.text_color);\n        if (!text_color) {\n          console.error('[Telegram.WebApp] Main button text color format is invalid', params.text_color);\n          throw Error('WebAppMainButtonParamInvalid');\n        }\n        buttonTextColor = text_color;\n      }\n    }\n    if (typeof params.is_visible !== 'undefined') {\n      if (params.is_visible &&\n          !mainButton.text.length) {\n        console.error('[Telegram.WebApp] Main button text is required');\n        throw Error('WebAppMainButtonParamInvalid');\n      }\n      isVisible = !!params.is_visible;\n    }\n    if (typeof params.is_active !== 'undefined') {\n      isActive = !!params.is_active;\n    }\n    updateButton();\n    return mainButton;\n  }\n\n  mainButton.setText = function(text) {\n    return mainButton.setParams({text: text});\n  };\n  mainButton.onClick = function(callback) {\n    onWebViewEvent('mainButtonClicked', callback);\n    return mainButton;\n  };\n  mainButton.offClick = function(callback) {\n    offWebViewEvent('mainButtonClicked', callback);\n    return mainButton;\n  };\n  mainButton.show = function() {\n    return mainButton.setParams({is_visible: true});\n  };\n  mainButton.hide = function() {\n    return mainButton.setParams({is_visible: false});\n  };\n  mainButton.enable = function() {\n    return mainButton.setParams({is_active: true});\n  };\n  mainButton.disable = function() {\n    return mainButton.setParams({is_active: false});\n  };\n  mainButton.showProgress = function(leaveActive) {\n    isActive = !!leaveActive;\n    isProgressVisible = true;\n    updateButton();\n    return mainButton;\n  };\n  mainButton.hideProgress = function() {\n    if (!mainButton.isActive) {\n      isActive = true;\n    }\n    isProgressVisible = false;\n    updateButton();\n    return mainButton;\n  }\n  mainButton.setParams = setParams;\n  return mainButton;\n})();\n\nfunction onSettingsButtonPressed() {\n  receiveWebViewEvent('settingsButtonClicked');\n}\nWebView.onEvent('settings_button_pressed', onSettingsButtonPressed);\n\nvar HapticFeedback = (function() {\n  var hapticFeedback = {};\n\n  function triggerFeedback(params) {\n    if (!versionAtLeast('6.1')) {\n      console.warn('[Telegram.WebApp] HapticFeedback is not supported in version ' + webAppVersion);\n      return hapticFeedback;\n    }\n    if (params.type == 'impact') {\n      if (params.impact_style != 'light' &&\n          params.impact_style != 'medium' &&\n          params.impact_style != 'heavy' &&\n          params.impact_style != 'rigid' &&\n          params.impact_style != 'soft') {\n        console.error('[Telegram.WebApp] Haptic impact style is invalid', params.impact_style);\n        throw Error('WebAppHapticImpactStyleInvalid');\n      }\n    } else if (params.type == 'notification') {\n      if (params.notification_type != 'error' &&\n          params.notification_type != 'success' &&\n          params.notification_type != 'warning') {\n        console.error('[Telegram.WebApp] Haptic notification type is invalid', params.notification_type);\n        throw Error('WebAppHapticNotificationTypeInvalid');\n      }\n    } else if (params.type == 'selection_change') {\n      // no params needed\n    } else {\n      console.error('[Telegram.WebApp] Haptic feedback type is invalid', params.type);\n      throw Error('WebAppHapticFeedbackTypeInvalid');\n    }\n    WebView.postEvent('web_app_trigger_haptic_feedback', false, params);\n    return hapticFeedback;\n  }\n\n  hapticFeedback.impactOccurred = function(style) {\n    return triggerFeedback({type: 'impact', impact_style: style});\n  };\n  hapticFeedback.notificationOccurred = function(type) {\n    return triggerFeedback({type: 'notification', notification_type: type});\n  };\n  hapticFeedback.selectionChanged = function() {\n    return triggerFeedback({type: 'selection_change'});\n  };\n  return hapticFeedback;\n})();\n\nvar webAppInvoices = {};\nfunction onInvoiceClosed(eventType, eventData) {\n  if (eventData.slug && webAppInvoices[eventData.slug]) {\n    var invoiceData = webAppInvoices[eventData.slug];\n    delete webAppInvoices[eventData.slug];\n    if (invoiceData.callback) {\n      invoiceData.callback(eventData.status);\n    }\n    receiveWebViewEvent('invoiceClosed', {\n      url: invoiceData.url,\n      status: eventData.status\n    });\n  }\n}\n\nvar webAppPopupOpened = false;\nfunction onPopupClosed(eventType, eventData) {\n  if (webAppPopupOpened) {\n    var popupData = webAppPopupOpened;\n    webAppPopupOpened = false;\n    var button_id = null;\n    if (typeof eventData.button_id !== 'undefined') {\n      button_id = eventData.button_id;\n    }\n    if (popupData.callback) {\n      popupData.callback(button_id);\n    }\n    receiveWebViewEvent('popupClosed', {\n      button_id: button_id\n    });\n  }\n}\n\nObject.defineProperty(WebApp, 'initData', {\n  get: function(){ return webAppInitData; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'initDataUnsafe', {\n  get: function(){ return webAppInitDataUnsafe; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'version', {\n  get: function(){ return webAppVersion; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'colorScheme', {\n  get: function(){ return colorScheme; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'themeParams', {\n  get: function(){ return themeParams; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'isExpanded', {\n  get: function(){ return isExpanded; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'viewportHeight', {\n  get: function(){ return (viewportHeight === false ? window.innerHeight : viewportHeight) - mainButtonHeight; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'viewportStableHeight', {\n  get: function(){ return (viewportStableHeight === false ? window.innerHeight : viewportStableHeight) - mainButtonHeight; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'closingConfirmation', {\n  set: function(val){ setClosingConfirmation(val); },\n  get: function(){ return closingConfirmation; },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'headerColor', {\n  set: function(val){ setHeaderColor(val); },\n  get: function(){ return getHeaderColor(); },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'backgroundColor', {\n  set: function(val){ setBackgroundColor(val); },\n  get: function(){ return getBackgroundColor(); },\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'BackButton', {\n  value: BackButton,\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'MainButton', {\n  value: MainButton,\n  enumerable: true\n});\nObject.defineProperty(WebApp, 'HapticFeedback', {\n  value: HapticFeedback,\n  enumerable: true\n});\nWebApp.setHeaderColor = function(color_key) {\n  WebApp.headerColor = color_key;\n};\nWebApp.setBackgroundColor = function(color) {\n  WebApp.backgroundColor = color;\n};\nWebApp.enableClosingConfirmation = function() {\n  WebApp.closingConfirmation = true;\n};\nWebApp.disableClosingConfirmation = function() {\n  WebApp.closingConfirmation = false;\n};\nWebApp.isVersionAtLeast = function(ver) {\n  return versionAtLeast(ver);\n};\nWebApp.onEvent = function(eventType, callback) {\n  onWebViewEvent(eventType, callback);\n};\nWebApp.offEvent = function(eventType, callback) {offWebViewEvent(eventType, callback);\n};\nWebApp.sendData = function (data) {\n  if (!data || !data.length) {\n    console.error('[Telegram.WebApp] Data is required', data);\n    throw Error('WebAppDataInvalid');\n  }\n  if (byteLength(data) > 4096) {\n    console.error('[Telegram.WebApp] Data is too long', data);\n    throw Error('WebAppDataInvalid');\n  }\n  WebView.postEvent('web_app_data_send', false, {data: data});\n};\nWebApp.openLink = function (url) {\n  var a = document.createElement('A');\n  a.href = url;\n  if (a.protocol != 'http:' &&\n      a.protocol != 'https:') {\n    console.error('[Telegram.WebApp] Url protocol is not supported', url);\n    throw Error('WebAppTgUrlInvalid');\n  }\n  var url = a.href;\n  if (versionAtLeast('6.1')) {\n    WebView.postEvent('web_app_open_link', false, {url: url});\n  } else {\n    window.open(url, '_blank');\n  }\n};\nWebApp.openTelegramLink = function (url) {\n  var a = document.createElement('A');\n  a.href = url;\n  if (a.protocol != 'http:' &&\n      a.protocol != 'https:') {\n    console.error('[Telegram.WebApp] Url protocol is not supported', url);\n    throw Error('WebAppTgUrlInvalid');\n  }\n  if (a.hostname != 't.me') {\n    console.error('[Telegram.WebApp] Url host is not supported', url);\n    throw Error('WebAppTgUrlInvalid');\n  }\n  var path_full = a.pathname + a.search;\n  if (isIframe || versionAtLeast('6.1')) {\n    WebView.postEvent('web_app_open_tg_link', false, {path_full: path_full});\n  } else {\n    location.href = 'https://t.me' + path_full;\n  }\n};\nWebApp.openInvoice = function (url, callback) {\n  var a = document.createElement('A'), match, slug;\n  a.href = url;\n  if (a.protocol != 'http:' &&\n      a.protocol != 'https:' ||\n      a.hostname != 't.me' ||\n      !(match = a.pathname.match(/^\\/(\\$|invoice\\/)([A-Za-z0-9\\-_=]+)$/)) ||\n      !(slug = match[2])) {\n    console.error('[Telegram.WebApp] Invoice url is invalid', url);\n    throw Error('WebAppInvoiceUrlInvalid');\n  }\n  if (!versionAtLeast('6.1')) {\n    console.error('[Telegram.WebApp] Method openInvoice is not supported in version ' + webAppVersion);\n    throw Error('WebAppMethodUnsupported');\n  }\n  if (webAppInvoices[slug]) {\n    console.error('[Telegram.WebApp] Invoice is already opened');\n    throw Error('WebAppInvoiceOpened');\n  }\n  webAppInvoices[slug] = {\n    url: url,\n    callback: callback\n  };\n  WebView.postEvent('web_app_open_invoice', false, {slug: slug});\n};\nWebApp.showPopup = function (params, callback) {\n  if (!versionAtLeast('6.2')) {\n    console.error('[Telegram.WebApp] Method showPopup is not supported in version ' + webAppVersion);\n    throw Error('WebAppMethodUnsupported');\n  }\n  if (webAppPopupOpened) {\n    console.error('[Telegram.WebApp] Popup is already opened');\n    throw Error('WebAppPopupOpened');\n  }\n  var title = '';\n  var message = '';\n  var buttons = [];\n  var popup_buttons = {};\n  var popup_params = {};\n  if (typeof params.title !== 'undefined') {\n    title = strTrim(params.title);\n    if (title.length > 64) {\n      console.error('[Telegram.WebApp] Popup title is too long', title);\n      throw Error('WebAppPopupParamInvalid');\n    }\n    if (title.length > 0) {\n      popup_params.title = title;\n    }\n  }\n  if (typeof params.message !== 'undefined') {\n    message = strTrim(params.message);\n  }\n  if (!message.length) {\n    console.error('[Telegram.WebApp] Popup message is required', params.message);\n    throw Error('WebAppPopupParamInvalid');\n  }\n  if (message.length > 256) {\n    console.error('[Telegram.WebApp] Popup message is too long', message);\n    throw Error('WebAppPopupParamInvalid');\n  }\n  popup_params.message = message;\n  if (typeof params.buttons !== 'undefined') {\n    if (!Array.isArray(params.buttons)) {\n      console.error('[Telegram.WebApp] Popup buttons should be an array', params.buttons);\n      throw Error('WebAppPopupParamInvalid');\n    }\n    for (var i = 0; i < params.buttons.length; i++) {\n      var button = params.buttons[i];\n      var btn = {};\n      var id = '';\n      if (typeof button.id !== 'undefined') {\n        id = button.id.toString();\n        if (id.length > 64) {\n          console.error('[Telegram.WebApp] Popup button id is too long', id);\n          throw Error('WebAppPopupParamInvalid');\n        }\n      }\n      btn.id = id;\n      var button_type = button.type;\n      if (typeof button_type === 'undefined') {\n        button_type = 'default';\n      }\n      btn.type = button_type;\n      if (button_type == 'ok' ||\n          button_type == 'close' ||\n          button_type == 'cancel') {\n        // no params needed\n      } else if (button_type == 'default' ||\n                  button_type == 'destructive') {\n        var text = '';\n        if (typeof button.text !== 'undefined') {\n          text = strTrim(button.text);\n        }\n        if (!text.length) {\n          console.error('[Telegram.WebApp] Popup button text is required for type ' + button_type, button.text);\n          throw Error('WebAppPopupParamInvalid');\n        }\n        if (text.length > 64) {\n          console.error('[Telegram.WebApp] Popup button text is too long', text);\n          throw Error('WebAppPopupParamInvalid');\n        }\n        btn.text = text;\n      } else {\n        console.error('[Telegram.WebApp] Popup button type is invalid', button_type);\n        throw Error('WebAppPopupParamInvalid');\n      }\n      buttons.push(btn);\n    }\n  } else {\n    buttons.push({id: '', type: 'close'});\n  }\n  if (buttons.length < 1) {\n    console.error('[Telegram.WebApp] Popup should have at least one button');\n    throw Error('WebAppPopupParamInvalid');\n  }\n  if (buttons.length > 3) {\n    console.error('[Telegram.WebApp] Popup should not have more than 3 buttons');\n    throw Error('WebAppPopupParamInvalid');\n  }\n  popup_params.buttons = buttons;\n\n  webAppPopupOpened = {\n    callback: callback\n  };\n  WebView.postEvent('web_app_open_popup', false, popup_params);\n};\nWebApp.showAlert = function (message, callback) {\n  WebApp.showPopup({\n    message: message\n  }, callback ? function(){ callback(); } : null);\n};\nWebApp.showConfirm = function (message, callback) {\n  WebApp.showPopup({\n    message: message,\n    buttons: [\n      {type: 'ok', id: 'ok'},\n      {type: 'cancel'}\n    ]\n  }, callback ? function (button_id) {\n    callback(button_id == 'ok');\n  } : null);\n};\nWebApp.ready = function () {\n  WebView.postEvent('web_app_ready');\n};\nWebApp.expand = function () {\n  WebView.postEvent('web_app_expand');\n};\nWebApp.close = function () {\n  WebView.postEvent('web_app_close');\n};\n\nupdateBackgroundColor();\nsetViewportHeight();\n\nwindow.addEventListener('resize', onWindowResize);\nif (isIframe) {\n  document.addEventListener('click', linkHandler);\n}\n\nWebView.onEvent('theme_changed', onThemeChanged);\nWebView.onEvent('viewport_changed', onViewportChanged);\nWebView.onEvent('invoice_closed', onInvoiceClosed);\nWebView.onEvent('popup_closed', onPopupClosed);\nWebView.postEvent('web_app_request_theme');\nWebView.postEvent('web_app_request_viewport');\n\nexport default {\n  WebApp: WebApp\n};\n","import module_webview from './telegram/webview.mjs';\nimport module_webapp from './telegram/webapp.mjs';\n\nexport var WebView = module_webview.WebView;\nexport var Utils = module_webview.Utils;\nexport var Game = module_webview.Game;\nexport var WebApp = module_webapp.WebApp;\n\nvar Telegram = {\n  WebView: WebView,\n  Utils: Utils,\n  Game: Game,\n  WebApp: WebApp\n};\n\nexport default Telegram;\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","eventHandlers","locationHash","location","hash","toString","e","initParams","urlParseHashParams","storedParams","sessionStorageGet","sessionStorageSet","iFrameStyle","isIframe","window","parent","addEventListener","event","source","dataParsed","JSON","parse","data","eventType","innerHTML","eventData","receiveEvent","document","createElement","head","appendChild","postMessage","stringify","urlSafeDecode","urlencoded","replace","decodeURIComponent","params","length","indexOf","_path","qIndex","pathParam","substr","query_params","urlParseQueryString","k","queryString","i","param","paramName","paramValue","queryStringParams","split","callEventCallbacks","callback","func","curEventHandlers","undefined","value","sessionStorage","setItem","getItem","WebView","onEvent","push","offEvent","index","splice","postEvent","TelegramWebviewProxy","external","notify","tgWebAppDebug","console","log","notAvailable","Utils","urlAppendHashParams","url","addHash","ind","curHash","Game","Proxy_receiveEvent","Proxy","WebApp","webAppInitData","webAppInitDataUnsafe","themeParams","colorScheme","webAppVersion","tgWebAppData","val","tgWebAppThemeParams","themeParamsRaw","theme_params","setThemeParams","tgWebAppVersion","lastWindowHeight","innerHeight","onWindowResize","receiveWebViewEvent","isStateStable","strTrim","str","args","Array","slice","arguments","shift","apply","onWebViewEvent","offWebViewEvent","setCssProperty","name","root","documentElement","style","setProperty","color","bg_color","secondary_bg_color","parseColorToHex","isColorDark","join","viewportHeight","viewportStableHeight","isExpanded","setViewportHeight","stable_height","is_expanded","height","is_state_stable","mainButtonHeight","closingConfirmation","headerColorKey","backgroundColor","getBackgroundColor","appBackgroundColor","updateBackgroundColor","match","exec","toLowerCase","r","parseInt","g","b","rgb","Math","sqrt","versionAtLeast","ver","v1","v2","p1","p2","a","max","versionCompare","BackButton","isVisible","backButton","set","setParams","is_visible","curButtonState","buttonParams","buttonCheckVersion","warn","btn_params","btn_state","buttonState","onClick","offClick","show","hide","MainButton","isActive","isProgressVisible","buttonText","buttonColor","buttonTextColor","mainButton","text","button_color","text_color","button_text_color","is_active","onMainButtonPressed","debugBtn","debugBtnStyle","font","display","width","borderRadius","background","position","left","right","bottom","margin","padding","textAlign","boxSizing","zIndex","onDomLoaded","removeEventListener","body","textColor","is_progress_visible","updateButton","opacity","cursor","disabled","innerText","backgroundImage","paddingBottom","updateDebugButton","setText","enable","disable","showProgress","leaveActive","hideProgress","error","Error","HapticFeedback","hapticFeedback","triggerFeedback","type","impact_style","notification_type","impactOccurred","notificationOccurred","selectionChanged","webAppInvoices","webAppPopupOpened","need_confirmation","color_key","setHeaderColor","setBackgroundColor","headerColor","enableClosingConfirmation","disableClosingConfirmation","isVersionAtLeast","sendData","Blob","size","s","code","charCodeAt","byteLength","openLink","href","protocol","open","openTelegramLink","hostname","path_full","pathname","search","openInvoice","slug","showPopup","title","message","buttons","popup_params","isArray","button","btn","id","button_type","showAlert","showConfirm","button_id","ready","expand","close","metaKey","ctrlKey","el","target","tagName","parentNode","openTgLink","preventDefault","invoiceData","status","popupData"],"sourceRoot":""}